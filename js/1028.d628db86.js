"use strict";(self["webpackChunkosboha180"]=self["webpackChunkosboha180"]||[]).push([[1028],{21175:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(50124),i=n(48534),a=n(62760),o=n(57333);const s={addQuestion:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.post("questions",t);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getQuestions:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("questions/user-book/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addDegree:function(e,t,n){var r=a.h.patch("/questions/add-degree/".concat(e),{auditor_id:o.Z.getUser().id,reviews:t,degree:n});return console.log(r),r},deleteQuestion:function(e){var t=a.h["delete"]("/questions/".concat(e));return t},getByStatus:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("questions/status/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByUserBook:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("questions/user_book_id/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),acceptQuestion:function(e,t){var n,r=null;"accept"==t?n=e:"audit"==t&&(r=e);var i=a.h.post("/questions/review",{id:n,user_book_id:r,status:t,reviewer_id:o.Z.getUser().id});return i},rejectRetardThesis:function(e,t,n){var r=a.h.post("/questions/review",{id:e,status:n,reviewer_id:o.Z.getUser().id,reviews:t});return r},updateQuestion:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("/questions/".concat(n),t,{})["catch"]((function(e){console.log(e)}));case 2:return i=e.sent,e.abrupt("return",i.data.data);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),reviewQuestion:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.patch("/questions/review-question/".concat(t))["catch"]((function(e){})).then((function(e){return e}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getById:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("questions/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getByBook:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.h.get("questions/book/".concat(t));case 2:return n=e.sent,n.data,e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},21028:(e,t,n)=>{n.d(t,{Z:()=>_e});n(68309),n(92222);var r=n(66252),i=n(3577),a=n(49963),o=n(79885),s={class:"form-card text-start"},u={class:"row setup-content",id:"user-detail"},c={key:0,class:"col-sm-12"},l={class:"col-md-12 p-0"},d={class:"mb-0 d-inline-block"},m={class:"row"},p={class:"col-6 form-group"},f=(0,r._)("label",{for:"uname",class:"form-label"},"صفحة البداية",-1),h={class:"form-control-plaintext"},w={class:"col-6 form-group"},v=(0,r._)("label",{for:"emailid",class:"form-label"},"صفحة النهاية",-1),g={class:"form-control-plaintext"},_=(0,r._)("hr",null,null,-1),b={class:"col-md-12 form-group"},k={class:"col-md-12 form-group"},y=(0,r._)("label",{for:"emailid",class:"form-label"}," السؤال",-1),q={class:"form-control-plaintext"},x={class:"user-post"},Z={class:"col-md-12 form-group"},C=(0,r._)("label",{for:"emailid",class:"form-label"}," الاقتباسات",-1),D={key:0},B={key:1},$=(0,r._)("div",{class:"col-md-12 form-group"},null,-1),z={key:0},N={key:0,class:"col-md-12 mb-3 form-group"},T=(0,r._)("label",{for:"address",class:"form-label"},"ملاحظات المراجع *",-1),W={key:0,style:{color:"red"}},Q={key:1},O={class:"row form-group"},I=(0,r._)("label",{for:"address",class:"form-label"}," * التقييم المناسب ",-1),R=(0,r.uE)('<option value="">اختر التقييم المناسب</option><option value="96">امتياز</option><option value="91">ممتاز</option><option value="86">جيد جدًا</option><option value="81">جيد </option><option value="71">مقبول</option>',6),U=[R],j={key:0,style:{color:"red"}},S={class:"form-check form-check-inline form-checkbox form-checkbox-color mt-4"},V=["checked"],E=(0,r._)("label",{class:"form-check-label",for:"rule3"}," تم التحقق من تطابق الأفكار المكتوبة هنا مع أفكار الكتاب وذلك دليل قراءة القارئ للكتاب.",-1),F={class:"col-md-3 form-group mt-3"},H=["disabled"],K=(0,r._)("h4",{class:"card-title"},"عنوان",-1),L={key:2,class:"col-md-12 mb-3 form-group mt-2"},M=(0,r._)("label",{for:"retardNote",class:"form-label"},"سبب الاعادة *",-1),P={key:0,style:{color:"red"}},Y={class:"d-inline-block w-100 text-center"},A={key:0,class:"col-sm-12 text-center"},G=(0,r._)("img",{src:o,alt:"loader",style:{height:"100px"}},null,-1),J=[G],X={key:1,class:"col-lg-12"},ee=(0,r._)("h4",{class:"card-title"},"بحاجة لمراجعة",-1),te={key:2,class:"col-lg-12"},ne=(0,r._)("h4",{class:"card-title"},"تم الاعادة ",-1),re={key:3,class:"col-lg-12"},ie=(0,r._)("h4",{class:"card-title"},"تم القبول ",-1),ae={key:4,class:"col-lg-12"},oe=(0,r._)("h4",{class:"card-title"},"تم الاعتماد ",-1),se={key:5,class:"col-lg-12"},ue=(0,r._)("h4",{class:"card-title"},"تم التقييم",-1),ce={key:6,class:"col-lg-12"},le=(0,r._)("h4",{class:"card-title"},"تم الرفض ",-1);function de(e,t,n,o,R,G){var de=(0,r.up)("iq-card"),me=(0,r.up)("TimeLine");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("form",null,[(0,r._)("div",u,[n.question.status?((0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",l,[(0,r._)("h3",d," السؤال "+(0,i.zw)(n.index+1),1),(0,r._)("div",m,[(0,r._)("div",p,[f,(0,r._)("label",h,(0,i.zw)(n.question.starting_page),1)]),(0,r._)("div",w,[v,(0,r._)("label",g,(0,i.zw)(n.question.ending_page),1)]),_,(0,r._)("div",b,[(0,r._)("div",k,[y,(0,r._)("p",q,(0,i.zw)(n.question.question),1)]),(0,r._)("div",x,[(0,r._)("div",Z,[C,n.question.quotation.length>0?((0,r.wg)(),(0,r.iD)("ul",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.question.quotation,(function(e){return(0,r.wg)(),(0,r.iD)("li",{key:e.id,class:"mt-3"},[(0,r._)("p",null,(0,i.zw)(e.text),1)])})),128))])):((0,r.wg)(),(0,r.iD)("p",B," لا يوجد اقتباسات"))])]),$]),n.reviewStage?((0,r.wg)(),(0,r.iD)("div",z,["audit"!=n.question.status||"auditor"!=R.role&&"admin"!=R.role?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",N,[T,(0,r.wy)((0,r._)("textarea",{name:"address",class:"form-control",id:"address",rows:"5",required:"required","onUpdate:modelValue":t[0]||(t[0]=function(e){return R.reviweNote=e})},null,512),[[a.nr,R.reviweNote]]),o.v$.reviweNote.$error?((0,r.wg)(),(0,r.iD)("small",W,(0,i.zw)("ملاحظاتك مطلوبة"))):(0,r.kq)("",!0)])),"audit"!=n.question.status||"auditor"!=R.role&&"admin"!=R.role?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Q,[(0,r._)("div",O,[I,(0,r.wy)((0,r._)("select",{class:"form-select","data-trigger":"",name:"degree",id:"degree","onUpdate:modelValue":t[1]||(t[1]=function(e){return R.degree=e}),onChange:t[2]||(t[2]=function(e){return G.setDegree(e)})},U,544),[[a.bM,R.degree]]),o.v$.degree.$error?((0,r.wg)(),(0,r.iD)("small",j,(0,i.zw)("اختر التقييم المناسب"))):(0,r.kq)("",!0),(0,r._)("div",S,[(0,r._)("input",{type:"checkbox",class:"form-check-input",id:"rule3",ref:"rule3",checked:e.rule1,onChange:t[3]||(t[3]=function(e){return G.setRule3()})},null,40,V),E]),(0,r._)("div",F,[(0,r._)("input",{type:"button",value:"إضافة",class:"btn btn-primary d-block w-100 mt-3",onClick:t[4]||(t[4]=function(e){return G.addDegree(n.question.id)}),disabled:!R.rule3},null,8,H)])])])),"review"!=n.question.status||"reviewer"!=R.role&&"admin"!=R.role?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(de,{key:2},{headerTitle:(0,r.w5)((function(){return[K]})),body:(0,r.w5)((function(){return[(0,r._)("div",null,["reviewer"==R.role||"admin"==R.role?((0,r.wg)(),(0,r.iD)("input",{key:0,type:"button",value:"قبول",class:"btn btn-primary d-block w-100 mt-3",onClick:t[5]||(t[5]=function(e){return G.accept(n.question.id)})})):(0,r.kq)("",!0),R.retard?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("input",{key:1,type:"button",value:"اعادة",class:"btn btn-warning d-block mt-3 w-100",onClick:t[6]||(t[6]=function(e){return G.setRetard()})})),R.retard?((0,r.wg)(),(0,r.iD)("div",L,[M,(0,r.wy)((0,r._)("textarea",{name:"retardNote",class:"form-control",id:"retardNote",rows:"5","onUpdate:modelValue":t[7]||(t[7]=function(e){return R.retardNote=e})},null,512),[[a.nr,R.retardNote]]),o.v$.retardNote.$error?((0,r.wg)(),(0,r.iD)("small",P,(0,i.zw)("سبب الاعادة مطلوب"))):(0,r.kq)("",!0),(0,r._)("div",Y,[R.loader?((0,r.wg)(),(0,r.iD)("div",A,J)):(0,r.kq)("",!0)]),(0,r._)("input",{type:"button",value:"اعادة",class:"btn btn-warning d-block mt-3 w-100",onClick:t[8]||(t[8]=function(e){return G.retardQuestion(n.question.id)})})])):(0,r.kq)("",!0)])]})),_:1}))])):(0,r.kq)("",!0)])])])):(0,r.kq)("",!0),"review"==n.question.status?((0,r.wg)(),(0,r.iD)("div",X,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[ee]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"لا يوجد مراجع ",description:"",child:{type:"img",items:[]}}]})]})),_:1})])):(0,r.kq)("",!0),"retard"==n.question.status?((0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[ne]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"بحاجة لتعديل ~ ".concat(n.question.reviewer.name),description:n.question.reviews,child:{type:"img",items:[]}}]},null,8,["items"])]})),_:1})])):(0,r.kq)("",!0),"accept"==n.question.status?((0,r.wg)(),(0,r.iD)("div",re,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[ie]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"مقبول",description:n.question.reviewer.name,child:{type:"img",items:[]}}]},null,8,["items"])]})),_:1})])):(0,r.kq)("",!0),"audite"==n.question.status?((0,r.wg)(),(0,r.iD)("div",ae,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[oe]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"معتمد - قابل للتقييم",description:n.question.reviewer.name,child:{type:"img",items:[]}}]},null,8,["items"])]})),_:1})])):(0,r.kq)("",!0),"audited"==n.question.status?((0,r.wg)(),(0,r.iD)("div",se,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[ue]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"تم التقييم ~ ".concat(n.question.auditor.name),description:n.question.reviews,child:{type:"img",items:[]}},{color:"primary",title:"تم المراجعة ~ ".concat(n.question.reviewer.name),description:"",child:{type:"img",items:[]}}]},null,8,["items"])]})),_:1})])):(0,r.kq)("",!0),"rejected"==n.question.status?((0,r.wg)(),(0,r.iD)("div",ce,[(0,r.Wm)(de,null,{headerTitle:(0,r.w5)((function(){return[le]})),body:(0,r.w5)((function(){return[(0,r.Wm)(me,{items:[{color:"primary",title:"مرفوض ~ ".concat(n.question.reviewer.name," ").concat(n.question.auditor.name),description:n.question.reviews,child:{type:"img",items:[]}}]},null,8,["items"])]})),_:1})])):(0,r.kq)("",!0)])])])}var me=n(21175),pe=n(57333),fe=n(54028),he=n(62587);const we={name:"question",created:function(){this.role=pe.Z.getRole()[0]},setup:function(){return{v$:(0,fe.ZP)()}},props:{question:{type:[Object],required:!0},userBook:{type:[Object],required:!0},index:{required:!0},reviewStage:{required:!0}},data:function(){return{role:"",reviweNote:"",mark:0,degree:"",markCondition:!0,retard:!1,retardNote:"",loader:!1,rule3:!1}},validations:function(){return{retardNote:{required:(0,he.CF)((function(e){return 1==this.retard}))},reviweNote:{required:he.C1},degree:{required:he.C1}}},methods:{changeTab:function(e){this.$emit("onNext",e)},setRetard:function(){this.retard=!0},retardQuestion:function(e){var t=this;if(this.v$.$touch(),!this.v$.retardNote.$invalid){var n=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});n.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني اعادة هذا السؤال  ",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالاعادة",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(r){r.isConfirmed&&(t.loader=!0,me.Z.rejectRetardThesis(e,t.retardNote,"retard").then((function(e){n.fire({title:"تمت الاعادة",text:"تم اعادة السؤال",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),t.loader=!1,t.retard=!1}))["catch"]((function(e){console.log(e)})))}))}},setRule3:function(){this.rule3=!this.rule3},accept:function(e){var t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني قبول هذا السؤال",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم قم بالقبول",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(n){n.isConfirmed&&me.Z.acceptQuestion(e,"accept").then((function(e){t.fire({title:"تم القبول",text:"تم قبول السؤال",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),location.reload()}))["catch"]((function(e){console.log(e)}))}))},setDegree:function(e){this.mark=e.target.value},addDegree:function(e){var t=this;if(this.v$.$touch(),!this.v$.reviweNote.$invalid&&!this.v$.degree.$invalid){var n=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});n.fire({title:"هل أنت متأكد؟",text:"موافقتك تعني أن هذاالسؤال  تمت مراجعتها",icon:"warning",showCancelButton:!0,confirmButtonText:"تمت المراجعة  ",cancelButtonText:"تراجع  ",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(r){r.isConfirmed&&me.Z.addDegree(e,t.reviweNote,t.mark).then((function(e){n.fire({title:"تمت المراجعة",text:"تم مراجعة السؤال",icon:"success",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}),location.reload()}))["catch"]((function(e){console.log(e)}))}))}}}};var ve=n(83744);const ge=(0,ve.Z)(we,[["render",de]]),_e=ge}}]);
//# sourceMappingURL=1028.d628db86.js.map