{"version":3,"file":"js/2249.79a49127.js","mappings":"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","sources":["webpack://osboha180/./src/api/generalInformationsServices.js","webpack://osboha180/./src/views/Review/General/list.vue","webpack://osboha180/./src/views/Review/General/list.vue?0a7b"],"sourcesContent":["import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\n\r\nexport default {\r\n  getByStatus: async (status) => {\r\n\r\n    const general_informations = await api.get(`general-informations/status/${status}`);\r\n    return general_informations.data.data;\r\n  },\r\n  getByUserBook: async (user_book_id) => {\r\n\r\n    const general_informations = await api.get(`general-informations/user_book_id/${user_book_id}`);\r\n    (general_informations.data)\r\n    return general_informations.data.data;\r\n  },\r\n  getByBook: async (bookID) => {\r\n\r\n    const general_informations = await api.get(`general-informations/book/${bookID}`);\r\n    (general_informations.data)\r\n    return general_informations.data.data;\r\n  },\r\n\r\n  addDegree(id, note, mark) {\r\n    const response = api.patch(`/general-informations/add-degree/${id}`, {\r\n      auditor_id: userInfoService.getUser().id,\r\n      reviews: note,\r\n      degree: mark\r\n    })\r\n    return response;\r\n  },\r\n\r\n  getGeneralInformations: async (id) => {\r\n    const generalInformations = await api.get(`general-informations/user_book_id/${id}`);\r\n    return generalInformations.data.data;\r\n  },\r\n  addGeneralInformations: async (data) => {\r\n    const response = await api.post(\"general-informations/\", data)\r\n    return response.data.data\r\n      \r\n  },\r\n  updateGeneralInformations: async (data,id) => {\r\n    const response = await api.patch(`general-informations/${id}`, data)\r\n    return response.data.data\r\n      \r\n  },\r\n  acceptGeneralInformations(id) {\r\n    const response = api.post(\"/general-informations/review\", {\r\n      id: id,\r\n      status: 'audit',\r\n      reviewer_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectRetardGeneralInformations(id, note , status) {\r\n    const response = api.post(\"/general-informations/review\", {\r\n      id: id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  }, \r\n  deleteGeneralInformation(id) {\r\n    const response = api.delete(`/general-informations/${id}`)\r\n    return response;\r\n  },\r\n  reviewGeneralInformation: async (id) => {\r\n    const res = await api\r\n      .patch(`/general-informations/review-general-informations/${id}`)\r\n      .catch((e) => {\r\n        // error = e.response.data.message;\r\n        (e)\r\n      }).then(e => (e));\r\n    // return {data:res.data,error}\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`general-informations/${id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n\r\n\r\n\r\n\r\n}","<template>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card position-relative inner-page-bg bg-primary\" style=\"height: 150px;\">\n                <div class=\"inner-page-title\">\n                    <h3 class=\"text-white\">مراجعة التخليص والسؤال العام</h3>\n                    <p class=\"text-white\">تبقى {{ totalInfo }}</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"informationsToAudit.length == 0 && informationsToReview.length == 0\">\n            <iq-card class=\"iq-card\">\n                <div class=\"iq-card-body p-0\">\n                    <div class=\"image-block text-center\">\n                        <img src=\"@/assets/images/export-congrats.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                    </div>\n                    <h4 class=\"text-center mt-3 mb-3\">لا يوجد تلخيصات</h4>\n                </div>\n            </iq-card>\n        </div>\n        <div class=\"col-12\" v-if=\"informationsToReview.length > 0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">تلخيصات عامة بحاجة للمراجعة</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead class=\"col-12\">\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد التلخيصات</th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"information in informationsToReview\" :key=\"information.id\">\n                                    <td class=\" btn-primary text-white bg-primary\">\n                                        {{ information.user_book.id }}\n                                    </td>\n\n                                    <td>\n                                        <a href=\"javascript:void(0);\"\n                                            @click=\"listGeneralInformations(information.user_book.id)\">\n                                            {{ information.user_book.user.name }}\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ information.user_book.book.name }}\n                                    </td>\n                                    <td>\n                                        1\n                                    </td>\n                                    <td class=\"text-center\">\n                                        {{ getFormatedDate(information.user_book.updated_at) }}\n                                    </td>\n\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"informationsToAudit.length > 0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">تلخيصات عامة بحاجة للتدقيق</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد التلخيصات</th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"information in informationsToAudit\" :key=\"information.id\">\n                                    <td class=\" btn-primary text-white bg-primary\">\n                                        {{ information.user_book.id }}\n                                    </td>\n                                    <td>\n                                        <a href=\"javascript:void(0);\"\n                                            @click=\"listGeneralInformations(information.user_book.id)\">\n                                            ***************\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ information.user_book.book.name }}\n                                    </td>\n                                    <td>\n                                        1\n                                    </td>\n                                    <td class=\"text-center\">\n                                        {{ getFormatedDate(information.user_book.updated_at) }}\n                                    </td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n    </div>\n</template>\n<script>\nimport iqCard from '@/components/custom/cards/iq-card.vue'\nimport generalInformationsServices from '@/api/generalInformationsServices'\nimport UserInfoService from \"@/services/userInfo.service\";\nimport moment from 'moment';\n\nexport default {\n    components: { iqCard },\n    name: 'informations',\n    async created() {\n        if (this.canReview) {\n            this.status = \"review\";\n            this.informationsToReview = await this.generalInformations(this.status)\n        }\n        if (this.canAudit) {\n            this.status = \"audit\";\n            this.informationsToAudit = await this.generalInformations(this.status)\n        }\n    },\n    data() {\n        return {\n            status: '',\n            informationsToReview: [],\n            informationsToAudit: [],\n        }\n    },\n    methods: {\n        getFormatedDate(value) {\n            return moment(String(value)).format('MM/DD/YYYY hA')\n        },\n        async generalInformations(status) {\n            return await generalInformationsServices.getByStatus(status);\n        },\n        listGeneralInformations(user_book_id) {\n            this.$router.push({ name: `general.general_informations`, params: { user_book_id: user_book_id } })\n        },\n    },\n    computed: {\n        totalInfo() {\n            return this.informationsToAudit.length + this.informationsToReview.length;\n        },\n\n        user() {\n            return UserInfoService.getUser();\n        },\n        canAudit() {\n            return UserInfoService.hasRoles(this.user, [\n                \"admin\",\n                \"super_auditer\",\n                \"auditor\",\n            ]);\n        },\n        canReview() {\n            return UserInfoService.hasRoles(this.user, [\n                \"admin\",\n                \"super_reviewer\",\n                \"reviewer\",\n            ]);\n        },\n    },\n\n}\n</script>\n","import { render } from \"./list.vue?vue&type=template&id=81ba928c\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\certificates-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getByStatus","status","api","general_informations","data","getByUserBook","user_book_id","getByBook","bookID","addDegree","id","note","mark","response","auditor_id","userInfoService","reviews","degree","getGeneralInformations","generalInformations","addGeneralInformations","updateGeneralInformations","acceptGeneralInformations","reviewer_id","rejectRetardGeneralInformations","deleteGeneralInformation","reviewGeneralInformation","e","then","getById","class","style","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_5","_toDisplayString","$options","$data","length","_createVNode","_component_iq_card","_hoisted_8","headerTitle","_hoisted_10","body","_hoisted_13","_Fragment","_renderList","information","key","user_book","href","onClick","user","name","_hoisted_15","book","_hoisted_16","updated_at","_hoisted_19","_hoisted_22","_hoisted_24","_hoisted_25","components","iqCard","created","canReview","informationsToReview","canAudit","informationsToAudit","methods","getFormatedDate","value","moment","String","format","generalInformationsServices","listGeneralInformations","this","$router","push","params","computed","totalInfo","UserInfoService","__exports__","render"],"sourceRoot":""}