{"version":3,"file":"js/4412.4a242d98.js","mappings":"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","sources":["webpack://osboha180/./src/api/questionServices.js","webpack://osboha180/./src/views/Review/Questions/list.vue","webpack://osboha180/./src/views/Review/Questions/list.vue?890b"],"sourcesContent":["import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n  addQuestion: async (question) => {\r\n  \r\n    const response = await api.post(\"questions\", question)\r\n    return response.data.data\r\n  },\r\n\r\n\r\n  getQuestions: async (id) => {\r\n\r\n    const questions = await api.get(`questions/user-book/${id}`);\r\n\r\n    return questions.data.data;\r\n  },\r\n\r\n  addDegree(id, note, mark) {\r\n    const response = api.patch(`/questions/add-degree/${id}`, {\r\n      auditor_id: userInfoService.getUser().id,\r\n      reviews: note,\r\n      degree: mark\r\n    })\r\n    console.log(response)\r\n    return response;\r\n\r\n  },\r\n  deleteQuestion(id) {\r\n    const response = api.delete(`/questions/${id}`)\r\n    return response;\r\n  },\r\n  getByStatus: async (status) => {\r\n\r\n    const response = await api.get(`questions/status/${status}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  getByUserBook: async (user_book_id) => {\r\n\r\n    const response = await api.get(`questions/user_book_id/${user_book_id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  acceptQuestion(id,status) {\r\n    let questionId, user_book_id=null\r\n    if(status == 'accept'){\r\n      questionId=id\r\n\r\n    }\r\n    else if(status == 'audit'){\r\n      user_book_id=id\r\n    }\r\n\r\n    const response = api.post(\"/questions/review\", {\r\n      id: questionId,\r\n      user_book_id: user_book_id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectRetardThesis(id, note,status) {\r\n    const response = api.post(\"/questions/review\", {\r\n      id: id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  },\r\n\r\n  updateQuestion: async (question, id) => {\r\n    const response = await api.patch(`/questions/${id}`, question, {\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response.data.data;\r\n    },\r\n    reviewQuestion: async (id) => {\r\n    const res = await api\r\n      .patch(`/questions/review-question/${id}`)\r\n      .catch((e) => {\r\n        // error = e.response.data.message;\r\n        (e)\r\n      }).then(e => (e));\r\n    // return {data:res.data,error}\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`questions/${id}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n  getByBook: async (bookID) => {\r\n    const response = await api.get(`questions/book/${bookID}`);\r\n    (response.data)\r\n    return response.data.data;\r\n  },\r\n\r\n}\r\n\r\n","<template>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <div class=\"card position-relative inner-page-bg bg-primary\" style=\"height: 150px;\">\n                <div class=\"inner-page-title\">\n                    <h3 class=\"text-white\">مراجعة الأسئلة</h3>\n                    <p class=\"text-white\">تبقى {{ totalQuestions }} سؤال </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"questionsToReview.length == 0 && questionsToAudit.length == 0\">\n            <iq-card class=\"iq-card\">\n                <div class=\"iq-card-body p-0\">\n                    <div class=\"image-block text-center\">\n                        <img src=\"@/assets/images/export-congrats.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\">\n                    </div>\n\n                    <h4 class=\"text-center mt-3 mb-3\">لا يوجد أسئلة</h4>\n                </div>\n            </iq-card>\n\n        </div>\n\n        <div class=\"col-sm-12\" v-if=\"questionsToReview.length > 0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">أسئلة بحاجة للمراجعة</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد الأسئلة</th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"question in questionsToReview\" :key=\"question.id\">\n                                    <td class=\" btn-primary text-white bg-primary\">\n                                        {{ question.user_book.id }}\n                                    </td>\n                                    <td>\n                                        <a href=\"javascript:void(0);\" @click=\"listQuestions(question.user_book.id)\">\n                                            {{ question.user_book.user.name }}\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.book.name }}\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.questions.length }}\n                                    </td>\n                                    <td class=\"text-center\">\n                                        {{ getFormatedDate(question.user_book.updated_at) }}\n                                    </td>\n\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n        <div class=\"col-sm-12\" v-if=\"questionsToAudit.length > 0\">\n            <iq-card>\n                <template v-slot:headerTitle>\n                    <h4 class=\"card-title\">أسئلة بحاجة للتدقيق</h4>\n                </template>\n                <template v-slot:body>\n                    <div class=\"table-responsive\">\n                        <table id=\"datatable\" class=\"table table-striped table-bordered\">\n                            <thead>\n                                <tr>\n                                    <th>رقم التوثيق</th>\n                                    <th>اسم السفير</th>\n                                    <th>اسم الكتاب</th>\n                                    <th>عدد الأسئلة</th>\n                                    <th></th>\n\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"question in questionsToAudit\" :key=\"question.id\">\n\n                                    <td class=\" btn-primary text-white bg-primary\">\n                                        {{ question.user_book.id }}\n                                    </td>\n\n                                    <td>\n                                        <a href=\"javascript:void(0);\" @click=\"listQuestions(question.user_book.id)\">\n                                            ***************\n                                        </a>\n\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.book.name }}\n                                    </td>\n                                    <td>\n                                        {{ question.user_book.questions.length }}\n                                    </td>\n                                    <td class=\"text-center\">\n                                        {{ getFormatedDate(question.user_book.updated_at) }}\n                                    </td>\n                                </tr>\n\n                            </tbody>\n                        </table>\n                    </div>\n                </template>\n            </iq-card>\n        </div>\n\n    </div>\n</template>\n<script>\nimport iqCard from '@/components/custom/cards/iq-card.vue'\nimport questionServices from '@/api/questionServices'\nimport UserInfoService from \"@/services/userInfo.service\";\nimport moment from 'moment';\n\nexport default {\n    components: { iqCard },\n    name: 'ListQuestions',\n    async created() {\n        if (this.canReview) {\n            this.status = \"review\";\n            this.questionsToReview = await this.Questions(this.status)\n        }\n        if (this.canAudit) {\n\n            this.status = \"audit\";\n            this.questionsToAudit = await this.Questions(this.status)\n        }\n    },\n\n    data() {\n        return {\n            questionsToReview: [],\n            questionsToAudit: [],\n            status: '',\n        }\n    },\n    methods: {\n        getFormatedDate(value) {\n            return moment(String(value)).format('MM/DD/YYYY hA')\n        },\n        async Questions(status) {\n            return await questionServices.getByStatus(status);\n        },\n        listQuestions(user_book_id) {\n            this.$router.push({ name: 'questions.questions', params: { user_book_id: user_book_id } })\n        },\n    },\n    computed: {\n        totalQuestions() {\n            return this.questionsToAudit.length + this.questionsToReview.length;\n        },\n        user() {\n            return UserInfoService.getUser();\n        },\n        canAudit() {\n            return UserInfoService.hasRoles(this.user, [\n                \"admin\",\n                \"super_auditer\",\n                \"auditor\",\n            ]);\n        },\n        canReview() {\n            return UserInfoService.hasRoles(this.user, [\n                \"admin\",\n                \"super_reviewer\",\n                \"reviewer\",\n            ]);\n        },\n\n    },\n\n}\n</script>\n","import { render } from \"./list.vue?vue&type=template&id=a7aebcbc\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\certificates-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["addQuestion","question","api","response","data","getQuestions","id","questions","addDegree","note","mark","auditor_id","userInfoService","reviews","degree","console","log","deleteQuestion","getByStatus","status","getByUserBook","user_book_id","acceptQuestion","questionId","reviewer_id","rejectRetardThesis","updateQuestion","error","reviewQuestion","e","then","getById","getByBook","bookID","class","style","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_5","_toDisplayString","$options","$data","length","_createVNode","_component_iq_card","_hoisted_8","headerTitle","_hoisted_10","body","_hoisted_13","_Fragment","_renderList","key","user_book","href","onClick","user","name","_hoisted_15","book","updated_at","_hoisted_18","_hoisted_21","_hoisted_23","components","iqCard","created","canReview","Questions","questionsToReview","canAudit","questionsToAudit","methods","getFormatedDate","value","moment","String","format","questionServices","listQuestions","this","$router","push","params","computed","totalQuestions","UserInfoService","__exports__","render"],"sourceRoot":""}