{"version":3,"file":"js/959.17590b7e.js","mappings":"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","sources":["webpack://osboha180/./src/api/thesisServices.js","webpack://osboha180/./src/views/Theses/update.vue","webpack://osboha180/./src/views/Theses/update.vue?67d7"],"sourcesContent":["import { api } from \"./Intercepter\"\r\nimport userInfoService from \"../services/userInfo.service\";\r\nexport default {\r\n  createThesis: async (thesis, userbook_id) => {\r\n    let formData = new FormData();\r\n    formData.append(\"thesis_text\", thesis.text);\r\n    formData.append(\"ending_page\", thesis.pageEnd);\r\n    formData.append(\"starting_page\", thesis.pageStart);\r\n    formData.append(\"user_book_id\", userbook_id);\r\n    formData.append(\"images[]\", thesis.image_1);\r\n    const response = await api.post(\"/thesises\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response;\r\n  },\r\n\r\n\r\n  updatePicture: async (image, path) => {\r\n    let formData = new FormData();\r\n    formData.append(\"path\", path);\r\n    formData.append(\"image\", image);\r\n\r\n    const response = await api.post(\"/thesises/update-photo\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response.data.data;\r\n  },\r\n  reviewThesis: async (id) => {\r\n    const res = await api\r\n      .patch(`/thesises/review-thesis/${id}`)\r\n \r\n  },\r\n  deleteThesis(id) {\r\n    const response = api.delete(`/thesises/${id}`)\r\n    return response;\r\n  },\r\n  acceptThesis(id,status) {\r\n    let thesisId, user_book_id=null\r\n    if(status == 'accept'){\r\n      thesisId=id\r\n\r\n    }\r\n    else if(status == 'audit'){\r\n      user_book_id=id\r\n    }\r\n    const response = api.post(\"/thesises/review\", {\r\n      id: thesisId,\r\n      user_book_id: user_book_id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id\r\n    })\r\n    return response;\r\n  },\r\n  rejectRetardThesis(id, note,status) {\r\n    const response = api.post(\"/thesises/review\", {\r\n      id: id,\r\n      status: status,\r\n      reviewer_id: userInfoService.getUser().id,\r\n      reviews: note\r\n    })\r\n    return response;\r\n  },\r\n  addDegree(id, note, mark) {\r\n    const response = api.patch(`/thesises/add-degree/${id}`, {\r\n      auditor_id: userInfoService.getUser().id,\r\n      reviews: note,\r\n      degree: mark\r\n      \r\n    })\r\n    return response;\r\n\r\n  },\r\n  updateThesis: async (thesis, id) => {\r\n    const response = await api.patch(`thesises/${id}`, thesis).catch(error => {\r\n\r\n\r\n      console.log(error)\r\n    }\r\n    )\r\n    return response;\r\n  },\r\n  getById: async (id) => {\r\n    const response = await api.get(`thesises/${id}`);\r\n \r\n    return response.data.data;\r\n  },\r\n  getByBook: async (bookID) => {\r\n    const thesis = await api.get(`thesises/book/${bookID}`);\r\n \r\n    return thesis.data.data;\r\n  },\r\n  getByUserBookStatus: async (status) => {\r\n\r\n    const thesis = await api.get(`thesises/by-status/${status}`);\r\n    (thesis.data)\r\n    return thesis.data.data;\r\n  },\r\n  getByUserBook : async (user_book_id ,status) => {\r\n \r\n    const thesis = await api.get(`thesises/user_book_id/${user_book_id}&${status}`);\r\n    (thesis.data)\r\n    return thesis.data.data;\r\n},\r\n  deletePhoto: async (id) => {\r\n    const response = await api.delete(`thesises/photo/${id}`);\r\n  },\r\n\r\n  getPhotosCount: async (user_book_id) => {\r\n    const response = await api.get(`thesises/photo-count/${user_book_id}`);\r\n    return response.data.data;\r\n   \r\n  },\r\n\r\n\r\n  uploadPhoto: async (image, id) => {\r\n    let formData = new FormData();\r\n   \r\n    formData.append(\"image\", image);\r\n    const response = await api.post(`/thesises/upload/${id}`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    ) \r\n    return response;\r\n  },\r\n\r\n }\r\n\r\n","<template>\r\n  <div>\r\n    <div class=\"col-sm-12 mt-3\">\r\n      <iq-card class=\"iq-card\">\r\n        <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n          <h3 class=\"text-center mt-3 mb-3\">تعديل الاطروحة</h3>\r\n        </div>\r\n        <div class=\"iq-card-body p-3\">\r\n          <div class=\"image-block text-center\">\r\n            <img src=\"@/assets/images/update-forms.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\" />\r\n          </div>\r\n\r\n          <div class=\"d-flex align-items-center mt-3\" v-if=\"thesisToupdate.status == null || thesisToupdate.status == 'retard'\r\n            \">\r\n            <form @submit.prevent=\"submit\" class=\"post-text ml-3 w-100 row\">\r\n              <div class=\"form-group col-6\">\r\n                <select class=\"form-select\" data-trigger name=\"choices-single-default\" id=\"choices-single-default\"\r\n                  v-model=\"v$.thesis.starting_page.$model\">\r\n                  <option value=\"\">اختر صفحة البداية</option>\r\n                  <option v-for=\"(i, index) in book.end_page\" :key=\"index\" :value=\"i\">\r\n                    {{ i }}\r\n                  </option>\r\n                </select>\r\n                <small style=\"color: red\" v-if=\"v$.thesis.starting_page.$error\">{{\r\n                  pageError ? pageError : \" الرجاء قم بادخال صفحة البداية\"\r\n                }}</small>\r\n              </div>\r\n              <div class=\"form-group col-6\">\r\n                <select class=\"form-select\" data-trigger name=\"choices-single-default\" id=\"choices-single-default\"\r\n                  v-model=\"v$.thesis.ending_page.$model\">\r\n                  <option value=\"\">اختر صفحة النهاية</option>\r\n                  <option v-for=\"(i, index) in book.end_page\" :key=\"index\" :value=\"i\">\r\n                    {{ i }}\r\n                  </option>\r\n                </select>\r\n                <small style=\"color: red\" v-if=\"v$.thesis.ending_page.$error\">{{\r\n                  pageError ? pageError : \" الرجاء قم بادخال صفحة النهاية\"\r\n                }}</small>\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label class=\"form-label\" for=\"thesisBody\">الأطروحة</label>\r\n                <textarea rows=\"5\" placeholder=\"... اكتب أطروحة عدد حروفها بين 500 و 1800\" class=\"rounded form-control\" id=\"thesisBody\"\r\n                  v-model=\"v$.thesis.text.$model\"></textarea>\r\n                <p style=\"color: red\" v-if=\"v$.thesis.text.$error\">\r\n                  لطفًا قم بكتابة اطروحة عدد حروفها بين 500 و 1800 خالية من الرموز التعبيرية (emojis)\r\n                </p>\r\n              </div>\r\n\r\n              <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n                <img src=\"@/assets/images/page-img/page-load-loader.gif\" alt=\"loader\" style=\"height: 100px\" />\r\n              </div>\r\n              <h4 class=\"text-center mt-3 mb-3\" v-if=\"message\">{{ message }}</h4>\r\n              <div class=\"d-inline-block w-100 text-center\">\r\n                <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\" v-if=\"message\">\r\n                  عودة لصفحة الأنجاز\r\n                </button>\r\n                <input type=\"submit\" value=\"تعديل\" href=\"javascript:void(0);\" class=\"btn btn-primary d-block mt-3 w-100\"\r\n                  v-else />\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div class=\"d-flex align-items-center mt-3 row\" v-else>\r\n            <h4 class=\"text-center mt-3 mb-3 col-12\">\r\n              لا يمكنك تعديل الاطروحه لأنه في حالة التقييم أو تم تقييمه\r\n            </h4>\r\n            <div class=\"d-inline-block w-100 text-center col-12\">\r\n              <button type=\"\" @click=\"back()\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\">\r\n                عودة لصفحة الأنجاز\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </iq-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport thesisServices from \"@/api/thesisServices\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { minLength, maxLength, required, integer, requiredIf } from \"@vuelidate/validators\";\r\nimport IqCard from \"@/components/custom/cards/iq-card.vue\";\r\nexport default {\r\n  name: \"UpdateQuestion\",\r\n  async created() {\r\n    this.thesisToupdate = await thesisServices.getById(this.$route.params.id);\r\n    this.user_book_id = this.thesisToupdate.user_book.id;\r\n    this.book = this.thesisToupdate.user_book.book;\r\n    this.thesis.text = this.thesisToupdate.thesis_text;\r\n    this.thesis.ending_page = this.thesisToupdate.ending_page;\r\n    this.thesis.starting_page = this.thesisToupdate.starting_page;\r\n    this.thesis.photos = this.thesisToupdate.photos;\r\n  },\r\n  components: { IqCard },\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      user_book_id: 0,\r\n      loader: false,\r\n      thesis: {\r\n        text: \"\",\r\n        starting_page: \"\",\r\n        ending_page: \"\",\r\n      },\r\n      book: [],\r\n      message: \"\",\r\n      thesisToupdate: [],\r\n      errors: [false, false, false],\r\n      pageError: \"\",\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      thesis: {\r\n        text: {\r\n          required,\r\n          minLength: minLength(500),\r\n          maxLength: maxLength(1800),\r\n        },\r\n        starting_page: {\r\n          required,\r\n          valdiatePages: this.validatePages,\r\n        },\r\n        ending_page: {\r\n          required,\r\n          valdiatePages: this.validatePages,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    validatePages() {\r\n      const error =\r\n        parseInt(this.thesis.starting_page) < parseInt(this.thesis.ending_page);\r\n\r\n      if (!error)\r\n        this.pageError = \"يجب ان تكون صفحة البداية اقل من صفحة النهاية\";\r\n      else this.pageError = \"\";\r\n      return error;\r\n    },\r\n\r\n    removeEmojis(thesis) {\r\n      var regex = /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g;\r\n      return thesis.replace(regex, '');\r\n    },\r\n\r\n    async submit() {\r\n      this.thesis.text = this.removeEmojis(this.thesis.text)\r\n      this.v$.$touch();\r\n      if (!this.v$.thesis.$invalid) {\r\n        this.message = \"\";\r\n        this.loader = true;\r\n        const thesis = await thesisServices.updateThesis(\r\n          this.thesis,\r\n          this.$route.params.id\r\n        );\r\n\r\n        this.loader = false;\r\n        this.message = \"تم التعديل بنجاح\";\r\n      }\r\n    },\r\n    back() {\r\n      this.$router.push({\r\n        name: \"achievement.theses\",\r\n        params: { id: this.thesisToupdate.user_book.book.id },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./update.vue?vue&type=template&id=049179e6\"\nimport script from \"./update.vue?vue&type=script&lang=js\"\nexport * from \"./update.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\certificates-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["createThesis","thesis","userbook_id","formData","FormData","append","text","pageEnd","pageStart","image_1","api","headers","error","console","log","response","updatePicture","image","path","data","reviewThesis","id","deleteThesis","acceptThesis","status","thesisId","user_book_id","reviewer_id","userInfoService","rejectRetardThesis","note","reviews","addDegree","mark","auditor_id","degree","updateThesis","getById","getByBook","bookID","getByUserBookStatus","getByUserBook","deletePhoto","getPhotosCount","uploadPhoto","class","_createElementVNode","src","_imports_0","alt","value","style","for","_imports_1","_hoisted_18","type","href","_createElementBlock","_createVNode","_component_iq_card","_hoisted_2","_hoisted_4","$data","onSubmit","$options","name","$setup","starting_page","$model","$event","_hoisted_7","_Fragment","_renderList","end_page","i","index","key","_hoisted_8","$error","_toDisplayString","ending_page","_hoisted_11","_hoisted_12","_hoisted_15","rows","placeholder","_hoisted_19","onClick","_hoisted_24","created","thesisServices","$route","params","thesisToupdate","user_book","book","thesis_text","photos","components","IqCard","setup","v$","useVuelidate","loader","message","errors","pageError","validations","required","minLength","maxLength","valdiatePages","this","validatePages","methods","parseInt","removeEmojis","regex","replace","submit","$touch","$invalid","back","$router","push","__exports__","render"],"sourceRoot":""}