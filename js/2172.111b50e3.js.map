{"version":3,"file":"js/2172.111b50e3.js","mappings":"8KAEA,SACEA,YADa,WAEX,IAAMC,EAAQC,EAAAA,EAAAA,IAAA,wBACd,OAAOD,CAER,EAEDE,oBAPa,WAQX,IAAMF,EAAQC,EAAAA,EAAAA,IAAA,0CACd,OAAOD,CAER,EACDG,WAAY,WAAF,8BAAE,WAAOC,GAAP,sFACNC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQH,EAAKI,MAC7BH,EAASE,OAAO,QAASH,EAAKK,KAAK,IAHzB,SAKaR,EAAAA,EAAAA,KAAS,oBAAqBI,EAAU,CAC7DK,QAAS,CACP,eAAgB,yBAFG,UAId,SAAAC,GAEPC,QAAQC,IAAIF,EACb,IAZS,cAKJG,EALI,OAcVF,QAAQC,IAAIC,GAdF,kBAeHA,GAfG,2CAAF,sDAAE,GAoBZC,WAAY,WAAF,8BAAE,WAAOX,GAAP,sFACNC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQH,EAAKI,MAC7BH,EAASE,OAAO,KAAMH,EAAKY,IAHjB,SAKaf,EAAAA,EAAAA,KAAS,oBAAqBI,EAAU,CAC7DK,QAAS,CACP,eAAgB,yBAFG,UAId,SAAAC,GAEPC,QAAQC,IAAIF,EACb,IAZS,cAKJG,EALI,OAcVF,QAAQC,IAAIC,GAdF,kBAeHA,GAfG,2CAAF,sDAAE,GAmBNG,QAnDO,SAmDCD,GAAI,wIACGf,EAAAA,EAAAA,IAAA,gBAAiBe,IADpB,cACVE,EADU,yBAETA,EAAKC,KAAKA,MAFD,4CAIjB,EAGKC,aA1DO,SA0DMZ,GAAM,iJAEDP,EAAAA,EAAAA,IAAA,+BAAgCO,IAF/B,cAEfR,EAFe,gBAGRA,EAAMmB,KAAKA,KAHH,oKAOxB,EAEKE,OAnEO,WAmEE,wIACMpB,EAAAA,EAAAA,IAAA,UADN,cACPiB,EADO,yBAENA,EAAKC,KAAKA,MAFJ,4CAId,EAEDG,aAAc,WAAF,8BAAE,WAAON,EAAIO,GAAX,sGAEatB,EAAAA,EAAAA,KAAS,sBAAuB,CACrDe,GAAIA,EACJO,WAAYA,IAJJ,cAEJT,EAFI,yBAMHA,EAASK,MANN,mCAQVP,QAAQC,IAAR,MARU,yDAAF,wDAAE,GAYdW,WArFa,SAqFFR,GACT,IAAME,EAAOjB,EAAAA,EAAAA,MAAA,yBAA4Be,IACzC,OAAOE,CAER,EACKO,kBA1FO,WA0Fa,wIACLxB,EAAAA,EAAAA,IAAA,oBADK,cAClBiB,EADkB,yBAEjBA,EAAKC,KAAKA,MAFO,4CAIzB,EAEDO,aAhGa,SAgGAV,GACX,OAAO,CAER,E,0LCpGIW,MAAM,kB,uBAEPC,EAAAA,EAAAA,GAIM,OAJDD,MAAM,oBAAkB,EAC3BC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,2BAAyB,EAClCC,EAAAA,EAAAA,GAA2F,OAAtFC,IAAAC,EAAsCH,MAAM,yBAAyBI,IAAI,iBAFlF,E,OAKKJ,MAAM,wB,GACJA,MAAM,gB,uBACTC,EAAAA,EAAAA,GAA4C,MAAxCD,MAAM,QAAO,0BAAsB,E,OACjCA,MAAM,Q,GACLA,MAAM,c,uBACTC,EAAAA,EAAAA,GAA6C,SAAtCI,IAAI,sBAAqB,SAAK,E,aAG9BC,MAAA,e,GAIJN,MAAM,c,uBACTC,EAAAA,EAAAA,GAAyE,SAAlED,MAAM,aAAaK,IAAI,cAAa,0BAAsB,E,aAE1DC,MAAA,e,SACFN,MAAM,c,GACFM,MAAA,e,SAMNN,MAAM,c,GACFM,MAAA,e,SAKJN,MAAM,yB,uBACTC,EAAAA,EAAAA,GAA+F,OAA1FC,IAAAK,EAAoDH,IAAI,SAASE,MAAA,kBAAtE,Q,OAAAE,G,GAEGR,MAAM,wB,oEAvCrBS,EAAAA,EAAAA,IA+CM,MA/CN,EA+CM,EA9CJC,EAAAA,EAAAA,IA6CUC,EAAA,CA7CDX,MAAM,WAAS,C,kBACtB,iBAIM,CAJNY,GAKAX,EAAAA,EAAAA,GAsCM,MAtCN,EAsCM,EArCJA,EAAAA,EAAAA,GAoCM,MApCN,EAoCM,CAnCJY,GACAZ,EAAAA,EAAAA,GAiCO,OAjCP,EAiCO,EAhCLA,EAAAA,EAAAA,GAMM,MANN,EAMM,CALJa,GAKI,SAJJb,EAAAA,EAAAA,GACkC,SAD3Bc,KAAK,O,qDAAgBC,EAAAA,GAAGC,KAAKpC,KAAKqC,OAAMC,C,GAAEnB,MAAM,oBAAoBX,GAAG,qBAC5E+B,YAAY,mBADd,iBAA4BJ,EAAAA,GAAGC,KAAKpC,KAAKqC,UAETF,EAAAA,GAAGC,KAAKpC,KAAKwC,SAAAA,EAAAA,EAAAA,OAA7CZ,EAAAA,EAAAA,IACgB,QADhB,EAAqD,oDAArD,kBAIFR,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJqB,GACArB,EAAAA,EAAAA,GAA0F,SAAnFD,MAAM,eAAee,KAAK,OAAO1B,GAAG,aAAakC,IAAI,OAAQC,SAAM,8BAAEC,EAAAA,YAAAA,EAAAA,WAAAA,MAAAA,EAAAA,UAAF,IAA1E,UACgCT,EAAAA,GAAGC,KAAKnC,KAAKuC,SAAAA,EAAAA,EAAAA,OAA7CZ,EAAAA,EAAAA,IAAgF,QAAhF,EAAqD,yBAArD,eAC8BiB,EAAAA,gBAAAA,EAAAA,EAAAA,OAA9BjB,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHJR,EAAAA,EAAAA,GAEQ,QAFR,GAEQ0B,EAAAA,EAAAA,IADHD,EAAAA,eAAa,OAFpB,iBAO4BA,EAAAA,WAAAA,EAAAA,EAAAA,OAA9BjB,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHJR,EAAAA,EAAAA,GAEQ,QAFR,GAEQ0B,EAAAA,EAAAA,IADHD,EAAAA,UAAQ,OAFf,eAMyCA,EAAAA,SAAAA,EAAAA,EAAAA,OAAzCjB,EAAAA,EAAAA,IAEM,MAFN,EAEMmB,KAFN,gBAGA3B,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAyF,SAAlFc,KAAK,SAAUc,QAAK,+BAAEJ,EAAAA,UAAF,GAAczB,MAAM,4BAA4B8B,MAAM,kBAtCzF,I,8EAqDN,SACEjD,KAAM,mBACNkD,MAFa,WAGX,MAAO,CAAEC,IAAIC,EAAAA,EAAAA,MACd,EAEDzC,KANa,WAOX,MAAO,CACL0C,QAAQ,EAERjB,KAAM,CACJpC,KAAM,GACNC,KAAM,IAERqD,SAAU,GACVC,cAAe,KAGlB,EACDC,QAAS,CACPC,WADO,WAGLC,KAAKtB,KAAKnC,KAAOyD,KAAKC,MAAM1D,KAAK2D,MACjC,IAAIC,EAAK,qCACJA,EAAGC,KAAKJ,KAAKtB,KAAKnC,KAAK,GAAGD,MAI7B0D,KAAKH,cAAc,KAHnBG,KAAKH,cAAgB,uCAMxB,EACKQ,SAbC,WAaU,gIACf,EAAKZ,GAAGa,SAEH,EAAKb,GAAGf,KAAK6B,SAHH,wBAIb,EAAKX,SAAW,GAChB,EAAKD,QAAS,EALD,kBAOca,EAAAA,EAAAA,WAAwB,EAAK9B,MAP3C,cAQX,EAAKiB,QAAS,EACd,EAAKC,SAAW,cATL,qDAcX,EAAKD,QAAS,EACwB,+BAAlC,KAAM/C,SAASK,KAAKA,KAAKwD,QAC3B,EAAKZ,cAAgB,2CAGvB,EAAKD,SAAW,WAnBL,2DAsBhB,GAEHc,YAxDa,WAyDX,MAAO,CACLhC,KAAM,CACJpC,KAAM,CACJqE,SAAAA,EAAAA,IAGFpE,KAAM,CACJoE,UAAUC,EAAAA,EAAAA,KAAW,SAAUC,GAC7B,OAAgC,GAAzBb,KAAKtB,KAAKnC,KAAKuE,MACvB,MAIR,G,eCvHH,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://osboha180/./src/api/userServices.js","webpack://osboha180/./src/views/User/update-info.vue","webpack://osboha180/./src/views/User/update-info.vue?6dd7"],"sourcesContent":["import { api } from \"./Intercepter\"\r\n\r\nexport default {\r\n  getUnactive() {\r\n    const users = api.get(`users/list/un-active`);\r\n    return users;\r\n\r\n  },\r\n\r\n  getUnactiveReviwers() {\r\n    const users = api.get(`users/list/un-active-reviwers-auditors`);\r\n    return users;\r\n\r\n  },\r\n  updateInfo: async (info) => {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", info.name); \r\n    formData.append(\"image\", info.file[0]);\r\n\r\n    const response = await api.post(\"users/update-info\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    ) \r\n    console.log(response)\r\n    return response;\r\n  },\r\n\r\n\r\n\r\n  updateName: async (info) => {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", info.name); \r\n    formData.append(\"id\", info.id);\r\n\r\n    const response = await api.post(\"users/update-name\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }).catch(error => {\r\n\r\n      console.log(error)\r\n    }\r\n    ) \r\n    console.log(response)\r\n    return response;\r\n  },\r\n\r\n\r\n  async getUser(id) {\r\n    const user = await api.get(`users/${id}`);\r\n    return user.data.data;\r\n\r\n  },\r\n\r\n\r\n  async searchByName(name) {\r\n    try {\r\n      const users = await api.get(`users/search-by-name/${name}`);\r\n      return await users.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n\r\n  async getAll() {\r\n    const user = await api.get(`users/`);\r\n    return user.data.data;\r\n\r\n  },\r\n\r\n  deActiveUser: async (id, rejectNote) => {\r\n    try {\r\n      const response = await api.post(\"users/deactive-user\", {\r\n        id: id,\r\n        rejectNote: rejectNote,\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  },\r\n\r\n  acceptUser(id) {\r\n    const user = api.patch(`users/activate/${id}`);\r\n    return user;\r\n\r\n  },\r\n  async getUserStatistics() {\r\n    const user = await api.get(`users/statistics`);\r\n    return user.data.data;\r\n\r\n  },\r\n\r\n  acceptThesis(id) {\r\n    return true;\r\n\r\n  }\r\n}\r\n\r\n","<template>\r\n  <div class=\"col-sm-12 mt-3\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/update-info.png\" class=\"img-fluid rounded w-50\" alt=\"blog-img\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 bg-white pt-2\">\r\n        <div class=\"sign-in-from\">\r\n          <h1 class=\"mb-0\">تعديل البيانات الشخصية</h1>\r\n          <form class=\"mt-2\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">الاسم</label>\r\n              <input type=\"text\" v-model=\"v$.form.name.$model\" class=\"form-control mb-0\" id=\"exampleInputEmail1\"\r\n                placeholder=\"ادخال الاسم هنا\" />\r\n              <small style=\"color: red\" v-if=\"v$.form.name.$error\">الرجاء قم بادخال اسمك كما هو في المستند\r\n                الرسمي</small>\r\n            </div>\r\n       \r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\" for=\"customFile\">صورة مستند تثبت هويتك </label>\r\n              <input class=\"form-control\" type=\"file\" id=\"customFile\" ref=\"file\" @change=\"uploadFile\" />\r\n              <small style=\"color: red\" v-if=\"v$.form.file.$error\">الرجاء قم برفع صورة</small>\r\n              <div class=\"form-group\" v-if=\"fileExtnError\">\r\n                <small style=\"color: red\">\r\n                  {{ fileExtnError }}\r\n                </small>\r\n              </div>\r\n              \r\n            </div>\r\n            <div class=\"form-group\" v-if=\"regError\">\r\n              <small style=\"color: red\">\r\n                {{ regError }}\r\n              </small>\r\n            </div>\r\n\r\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n              <img src=\"@/assets/images/page-img/page-load-loader.gif\" alt=\"loader\" style=\"height: 100px;\" />\r\n            </div>\r\n            <div class=\"d-inline-block w-100\">\r\n              <input type=\"button\" @click=\"onSubmit()\" class=\"btn btn-primary float-end\" value=\"تحديث\">\r\n                \r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email, minLength, requiredIf } from \"@vuelidate/validators\";\r\nimport userServices from '../../api/userServices'\r\n\r\n\r\nexport default {\r\n  name: \"Update User Info\",\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n\r\n      form: {\r\n        name: \"\",\r\n        file: [], \r\n      },\r\n      regError: '',\r\n      fileExtnError: null,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    uploadFile() {\r\n\r\n      this.form.file = this.$refs.file.files;\r\n      var re = /(\\.jpg|\\.jpeg|\\.bmp|\\.gif|\\.png)$/i;\r\n      if (!re.exec(this.form.file[0].name)) {\r\n        this.fileExtnError = 'صيغة الملف غير مدعومة، اختر ملفًا أخر';\r\n      }\r\n      else{\r\n        this.fileExtnError=null\r\n      }\r\n\r\n    },\r\n    async onSubmit() {\r\n      this.v$.$touch();\r\n\r\n      if (!this.v$.form.$invalid) {\r\n        this.regError = '';\r\n        this.loader = true;\r\n        try {\r\n          const updateInfo = await userServices.updateInfo(this.form);\r\n          this.loader = false;\r\n          this.regError = ' تم التعديل';\r\n \r\n        }\r\n        catch (error) {\r\n          \r\n          this.loader = false;\r\n          if (error.response.data.data.image == 'The image failed to upload.') {\r\n            this.fileExtnError = ' صيغة الصورة غير مدعومة، اختر صورة أخرى';\r\n          }\r\n\r\n          this.regError = ' حدث خطأ';\r\n        }\r\n      }\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      form: {\r\n        name: {\r\n          required,\r\n        },\r\n       \r\n        file: {\r\n          required: requiredIf(function (nestedModel) {\r\n            return this.form.file.length == 0; // New changes\r\n          }),\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\nh1,\r\nh4,\r\np,\r\ntitle,\r\nform {\r\n  direction: rtl;\r\n}\r\n\r\n.form-check {\r\n  float: left;\r\n}\r\n\r\na.float-end {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n  ","import { render } from \"./update-info.vue?vue&type=template&id=18ecc283&scoped=true\"\nimport script from \"./update-info.vue?vue&type=script&lang=js\"\nexport * from \"./update-info.vue?vue&type=script&lang=js\"\n\nimport \"./update-info.vue?vue&type=style&index=0&id=18ecc283&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\someO\\\\Desktop\\\\vue\\\\certificates-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-18ecc283\"]])\n\nexport default __exports__"],"names":["getUnactive","users","api","getUnactiveReviwers","updateInfo","info","formData","FormData","append","name","file","headers","error","console","log","response","updateName","id","getUser","user","data","searchByName","getAll","deActiveUser","rejectNote","acceptUser","getUserStatistics","acceptThesis","class","_createElementVNode","src","_imports_0","alt","for","style","_imports_1","_hoisted_18","_createElementBlock","_createVNode","_component_iq_card","_hoisted_2","_hoisted_5","_hoisted_8","type","$setup","form","$model","$event","placeholder","$error","_hoisted_11","ref","onChange","$options","$data","_toDisplayString","_hoisted_19","onClick","value","setup","v$","useVuelidate","loader","regError","fileExtnError","methods","uploadFile","this","$refs","files","re","exec","onSubmit","$touch","$invalid","userServices","image","validations","required","requiredIf","nestedModel","length","__exports__","render"],"sourceRoot":""}